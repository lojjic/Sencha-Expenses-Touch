{"id":"ExtBox1-ext-gen4798","type":"formpanel","reference":{"name":"items","type":"array"},"codeClass":null,"userConfig":{"layout":"vbox","designer|userClassName":"AddExpenseForm","designer|userAlias":"addexpenseform","container|pack":"center"},"designerId":"a25f3672-84b1-41ef-9927-7bb390c17f2d","$viewOrder":0,"cn":[{"id":"ExtBox1-ext-gen4906","type":"fieldset","reference":{"name":"items","type":"array"},"codeClass":null,"userConfig":{"title":"Add New Expense","designer|userClassName":"MyFieldSet1"},"cn":[{"id":"ExtBox1-ext-gen4916","type":"textfield","reference":{"name":"items","type":"array"},"codeClass":null,"userConfig":{"name":"merchant","required":true,"designer|userClassName":"MyTextField2"},"cn":[{"id":"ExtBox1-ext-gen4923","type":"label","reference":{"name":"label","type":"object"},"codeClass":null,"userConfig":{"width":"35%","text":"Merchant","designer|userClassName":"MyLabel4"}},{"id":"ExtBox1-ext-gen4929","type":"input","reference":{"name":"input","type":"object"},"codeClass":null,"userConfig":{"designer|userClassName":"MyInput4"}}]},{"id":"ExtBox1-ext-gen4934","type":"numberfield","reference":{"name":"items","type":"array"},"codeClass":null,"userConfig":{"name":"amount","required":true,"designer|userClassName":"MyTextField3"},"cn":[{"id":"ExtBox1-ext-gen4941","type":"label","reference":{"name":"label","type":"object"},"codeClass":null,"userConfig":{"width":"35%","text":"Amount","designer|userClassName":"MyLabel5"}},{"id":"ExtBox1-ext-gen4947","type":"input","reference":{"name":"input","type":"object"},"codeClass":null,"userConfig":{"designer|userClassName":"MyInput5"}}]},{"id":"ExtBox1-ext-gen6236","type":"selectfield","reference":{"name":"items","type":"array"},"codeClass":null,"userConfig":{"name":"category","options":"[{text:\"Uncategorized\",value:null},{text:\"Lodging\",value:\"lodging\"},{text:\"Transportation\",value:\"transportation\"},{text:\"Food/Drink\",value:\"food\"}]","designer|userClassName":"MySelectField"},"cn":[{"id":"ExtBox1-ext-gen6244","type":"label","reference":{"name":"label","type":"object"},"codeClass":null,"userConfig":{"width":"35%","text":"Category","designer|userClassName":"MyLabel7"}},{"id":"ExtBox1-ext-gen6250","type":"input","reference":{"name":"input","type":"object"},"codeClass":null,"userConfig":{"designer|userClassName":"MyInput7"}}]}]},{"id":"ExtBox1-ext-gen6767","type":"button","reference":{"name":"items","type":"array"},"codeClass":null,"userConfig":{"ui":"confirm","text":"Submit","designer|userClassName":"MyButton2"},"cn":[{"id":"ExtBox1-ext-gen7195","type":"basiceventbinding","reference":{"name":"listeners","type":"array"},"codeClass":null,"userConfig":{"name":"tap","scope":"me","fn":"onSubmitTap","implHandler":"var form = button.up('formpanel'),\nmainPanel = form.up('#mainPanel'),\nstore = mainPanel.down('#expenseList').getStore(),\nts = new Date(),\nexpenseRecord = form.getValues();\n\n// Add additional data\nexpenseRecord.username = MyApp.username;\nexpenseRecord.timestamp = ts;\n\n// Send message to the queue - no relation to the store\nExt.io.send('queue/expense', { \n    'type': 'newexpense',\n    'storeid': 'expenseDB',\n    'username': expenseRecord.username,\n    'merchant': expenseRecord.merchant,\n    'category': expenseRecord.category,\n    'amount': expenseRecord.amount,\n    'timestamp': Ext.Date.format(ts, 'Y-m-d g.i')\n});\n\n//Store to local storage and sync to remote syncstorage\nstore.add(expenseRecord);\nstore.sync();\n\n//Confirmation\nExt.Msg.alert(null, \"Expense Added Successfully\", function() {\n    //Back to list\n    form.reset();\n    mainPanel.setActiveItem(0);\n});","designer|userClassName":"Basic Event Binding4"}}]},{"id":"ExtBox1-ext-gen6907","type":"button","reference":{"name":"items","type":"array"},"codeClass":null,"userConfig":{"style":"margin-top:1em;","ui":"decline","text":"Cancel","designer|userClassName":"MyButton3"},"cn":[{"id":"ExtBox1-ext-gen6600","type":"basiceventbinding","reference":{"name":"listeners","type":"array"},"codeClass":null,"userConfig":{"name":"tap","scope":"me","fn":"onCancelTap","implHandler":"button.up('formpanel').reset();\nbutton.up('#mainPanel').setActiveItem(0);","designer|userClassName":"Basic Event Binding3"}}]}]}